name: README Produce & Test Factory

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  auto-process:
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ“¥ ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
      uses: actions/checkout@v4

    - name: ğŸ íŒŒì´ì¬ í™˜ê²½ ì„¸íŒ…
      uses: actions/setup-python@v5
      with:
        python-version: "3.10"

    - name: ğŸ“¦ í•„ìš” ë¶€í’ˆ ì„¤ì¹˜
      run: |
        python -m pip install --upgrade pip
        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

    - name: ğŸ§ª ì‹ ë¬´ê¸° ê°€ë™ í…ŒìŠ¤íŠ¸
      run: |
        # íŒŒì¼ì´ ìˆì„ ë•Œë§Œ ì‹¤í–‰í•˜ë„ë¡ ì„¤ì •í•˜ì—¬ ë²”ìš©ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
        if [ -f aegis_light_test.py ]; then python3 aegis_light_test.py; fi

    - name: ğŸ“ README ìƒíƒœ ì ê²€
      run: |
        echo "ì„¤ëª…ì„œ ìƒì„± ë¡œì§ì„ ìœ„í•œ ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."
        ls -l README.md || echo "README.md íŒŒì¼ì´ ì•„ì§ ì—†ìŠµë‹ˆë‹¤."